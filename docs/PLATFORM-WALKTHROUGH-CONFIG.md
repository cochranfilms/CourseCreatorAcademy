# Platform Walkthrough Configuration

This document describes how to configure the Platform Walkthrough video on the `/home` page using a MUX video asset.

## Firestore Document Structure

Create a document in Firestore at the following path:

**Collection:** `config`  
**Document ID:** `walkthrough`

### Document Fields

```json
{
  "muxAssetId": "string (required)",
  "title": "string (optional)",
  "description": "string (optional)"
}
```

### Field Descriptions

- **`muxAssetId`** (required): The MUX asset ID for the platform walkthrough video
  - Example: `"abc123xyz456"`
  - This is the ID you get when you upload a video to MUX

- **`title`** (optional): Custom title for the walkthrough section
  - Example: `"Get Started: Platform Walkthrough"`
  - If not provided, will fall back to MUX asset metadata

- **`description`** (optional): Custom description text for the walkthrough
  - Example: `"Learn how to navigate the platform to unlock all the features."`
  - If not provided, will fall back to MUX asset metadata or use a default

## How to Set Up

### Option 1: Using Firebase Console

1. Go to Firebase Console â†’ Firestore Database
2. Navigate to the `config` collection
3. Create a new document with ID `walkthrough`
4. Add the following fields:
   - `muxAssetId` (string): Your MUX asset ID
   - `title` (string, optional): Custom title
   - `description` (string, optional): Custom description

### Option 2: Using Firebase Admin SDK

```javascript
const admin = require('firebase-admin');
const db = admin.firestore();

await db.collection('config').doc('walkthrough').set({
  muxAssetId: 'your-mux-asset-id-here',
  title: 'Get Started: Platform Walkthrough',
  description: 'Learn how to navigate the platform to unlock all the features.'
});
```

### Option 3: Using Firebase CLI

```bash
# Create a JSON file (walkthrough.json)
{
  "muxAssetId": "your-mux-asset-id-here",
  "title": "Get Started: Platform Walkthrough",
  "description": "Learn how to navigate the platform to unlock all the features."
}

# Import using Firebase CLI
firebase firestore:set config/walkthrough walkthrough.json
```

## Example Document

```json
{
  "muxAssetId": "abc123xyz456",
  "title": "Get Started: Platform Walkthrough",
  "description": "Learn how to navigate the platform to unlock all the features."
}
```

## How It Works

1. The `/home` page fetches the `config/walkthrough` document from Firestore
2. It extracts the `muxAssetId` and uses it to fetch video metadata from MUX
3. The video thumbnail is generated from the MUX playback ID
4. Title and description are displayed from Firestore (or fallback to MUX metadata)
5. The video can be played using the MUX player

## Notes

- The MUX asset must be fully processed and have a playback ID before it will display
- If `muxAssetId` is missing or invalid, the section will show a loading skeleton
- Title and description from Firestore take priority over MUX metadata
- The video thumbnail is automatically generated by MUX using the playback ID

